<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>登录</title>
    <link rel="stylesheet" href="/css/login.css" />
    <%- include('lib.ejs') %>
  </head>

  <body>
    <div class="from">
      <div style="margin-bottom: 60px" class="text-[20px]">后台服务系统</div>
      <div class="group">
        <input type="text" class="input-item" required />
        <p>用户名</p>
      </div>
      <div class="group">
        <input type="text" class="input-item" required />
        <p>密码</p>
      </div>
      <div>
        <input
          type="button"
          id="submit"
          value="登录"
          class="login bg-[#0084ff] text-[#fff]"
        />
      </div>
    </div>
  </body>
  <script>
    $("#submit").click(() => {
      axios({
        method: "post",
        url: "/login",
        data: {
          username: "root1",
          password: "123",
        },
      })
        .then((result) => {
          if (result.data.code == 200) {
            location.href = "/user/index";
            localStorage.setItem("token", result.data.token);
          } else {
            alert("用户名或密码错误");
          }
        })
        .catch((err) => {
          console.log("网络错误");
        });
    });
  </script>
</html>
